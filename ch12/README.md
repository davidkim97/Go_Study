# Golang

## Chapter 12.

## 배열

### ✅ 배열 소개

- 배열은 타입이 같은 값 여러개를 가지는 자료구조이다.

- 배열에 저장된 값을 element, 요소, 원소, 항목이라고 한다.

- 첫 번째 요소의 위치는 0번째이고, 1씩 늘어난다. 이 위치를 인덱스 라고 한다.

### ✅ 배열의 장점

- 배열을 사용하면 타입이 같은 여러 데이터를 변수 하나로 묶어서 효과적으로 다룰 수 있다.

- 배열에 담을 수 있는 최대 요소 개수는 생성할 때 고정되어 중간에 늘리거나 줄일 수 없다.

### 1. 배열

- 배열(array)은 같은 타입의 데이터들로 이루어진 타입이다.

- 배열을 이루는 각 값은 요소(element)라고 하고, 이를 가리키는 위치값을 인덱스(index)라고 한다.

```Go
var 변수명 [요소 개수] 타입

// 날짜별 온도가 소수점까지 제공되므로 최근 5일 온도 데이터를 저장하는 Array
var t [5]float64
```

### 2. 배열 사용법

- 배열 변수 선언 및 초기화

```Go
var nums [5]int
// 별도로 초기값을 지정하지 않아 각 요소값은 int타입의 기본값인 0으로 초기화 된다.
```

```Go
days := [3]string{"monday", "tuesday", "wednesday"}
```

```Go
var temps [5]float64 = [5]float64{24.3, 26.7}
// 나초기화 하지 않은 남은 값은 float64 타입의 기본값인 0.0으로 초기화 된다.
```

```Go
var s = [5]int{1:10, 3:30}
/* int 타입 요소를 5개 갖는 배열 s 할당
 * 인덱스가 1인 요소값을 10, 3인 요소값을 30으로 초기화 나머지는 0으로 초기화
*/
```

```Go
x := [...]int{10,20,30}
/* ...를 사용해 배열 요소 개수를 생략
 * 배열 요소 개수는 초기화되는 요소 개수와 같다.
*/
```

- 배열 선언시 개수는 항상 상수로 써야 한다.

- 변수값을 배열 개수로 사용할 수 없다.

- 배열 요소 읽고 쓰기

  - 배열 요소에 접근하여 값을 읽고 쓰려면 배열 변수에 대괄호 []를 쓰고 그 사이에 접근하고자  
    하는 요소의 인덱스를 적는다.

- range 순회

  - for 반복문에서 range 키워드를 이용하면 배열 요소를 순회 할 수 있다.

  - range는 배열의 각 요소를 순회하면서 인덱스와 요소값 두 값을 반환한다.

    ```Go
    // i : 인덱스, v : 원소값
    for i, v := range t {
        fmt.Println(v)
    }

    // 인덱스가 필요없고 요소값만 필요하면 밑줄 _을 이용해서 인덱스를 뮤효화 한다.
    for _, v := range t {
        fmt.Println(v)
    }
    ```

  - 선언하고 사용하지 않는 변수가 있으면 컴파일 에러를 발생한다.  
    따라서 range을 사용할 때 인덱스를 사용하지 않는다면 밑줄 \_을 사용해서 첫 번째 값을 반드시 뮤효화 시킨다.

### 3. 배열은 연속된 메모리

- 배열을 선언하면 컴퓨터는 연속된 메모리 공간을 확보한다.

- ex) var a [10]int32 배열을 선언하면 컴퓨터는 int32값 10개를 저장할 수 있는 연속된 메모리 공간을 찾아 할당 한다.

- 컴퓨터는 배열의 시작 주소에 '인덱스 x 타입 크기'를 더해서 찾아간다.

```Go
/* 요소 위치 = 배열 시작 주소 + (인덱스 x 타입 크기)
 * a 배열 시작 주소가 100번지라면  a[3]주소는 int32 타입 크기는 4바이트이므로 100 + (3 * 4) = 112
*/
a[3] = 300
```

- 배열의 핵심 2가지

  - 배열은 연속된 메모리이다.
  - 컴퓨터는 인덱스와 타입 크기를 사용해서 메모리 주소를 찾는다.

- 배열 복사

  - 대입 연산자를 사용하면 배열 대 배열 복사를 할 수 있다.

  - Go언어에서 대입 연산자는 우변의 값을 좌변의 메모리 공간에 복사한다.  
    이때 복사되는 크기는 타입 크기와 같다. 배열의 대입 역시 마찬가지이다.

### 4. 다중 배열

- 다중 배열은 중첩된 배열을 말한다.

- 이중 배열은 X, Y 좌표계의 위치 데이터들을 위해 주로 사용되어서 이차원 배열이라고 부른다.

- 삼중 배열을 삼차원 공간상의 좌표 데이터들을 위해 주로 사용되어서 삼차원 배열이라고 부르기도 한다.

- 간단하게 다중 배열은 배열을 요소로 가지는 배열이라고 이해하면 쉽다.

- 배열은 몇 개가 중첩됐든 <span style="color:tomato">**[개수] 타입**</span> 형태로 이해하면 쉽다.

```Go
var b = [2][5]int { // b 배열욜 {}
    {1, 2, 3, 4, 5}, // b[0] 초기화용 {}
    {6, 7, 8, 9, 10} // b[1] 초기화용 {}
}
```

- 배열 크기
  - 배열이 선언되면 컴퓨터는 배열의 모든 요소를 연속되게 저장할 수 있는 메모리 공간을 할당한다.
  - 배열 크기는 타입 크기 요소 개수가 된다.
  ```
  배열 크기 = 타입 크기 x 항목 개수
  ```

### ⭐️ 핵심 요약

- 배열은 값을 여러 개 저장하는 연속된 메모리 공간이다.

- 배열 변수는 다음과 같이 선언

```Go
var nums [5]int
```

- 대괄호 [] 사이에 인덱스를 넣어서 배열 요소에 접근할 수 있다.  
  a[3]은 a 배열에서 인덱스가 3인 요소에 접근

- 배열의 인덱스는 0부터 시작한다.

- 내장 함수 len()으로 배열 길이를 알 수 있다.

- range를 이용하면 for문에서 배열을 순회할 수 있다.
